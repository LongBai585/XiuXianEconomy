#XiuXianEconomy 修仙经济系统

一个基于TShock的Terraria服务器插件，为修仙服务器提供完整的经济系统，包含星晶货币、拍卖行和商店功能。

# 功能特色

# 🌟 星晶货币系统

· 四种品质星晶: 低等(绿)、中等(蓝)、高等(紫)、极品(金)
· 自动兑换系统: 支持不同品质星晶之间的自动换算
· 怪物掉落: 击败怪物有几率获得星晶，掉落品质与怪物强度相关
· 每日奖励: 玩家每天可领取固定的星晶奖励

# 🏪 商店系统

· 商品管理: 可配置多种商品，支持库存和购买限制
· 灵活定价: 支持使用不同品质星晶定价
· 购买记录: 记录玩家购买历史，支持限购功能

# 🛒 拍卖行系统

· 物品上架: 玩家可将手持物品上架拍卖
· 公开竞价: 所有玩家可浏览和购买拍卖物品
· 自动交易: 购买后自动完成星晶转移和物品交付
· 过期清理: 自动清理过期未售出的拍卖品

# 🎮 UI系统

· 实时显示: 在聊天框和屏幕顶部显示经济信息
· 可配置位置: 支持自定义UI显示位置
· 自动刷新: 可配置刷新频率，实时更新经济数据
· 财富等级: 根据总资产显示玩家财富等级

# 安装要求

必需组件

· TShock服务器 (4.5.0+)
· 修仙星宿系统 前置插件

# 推荐权限组

· 修仙弟子: 拥有 economy.player 权限
· 修仙仙尊: 拥有 economy.player 和 economy.admin 权限

# 安装步骤

1. 确保已安装并加载 修仙星宿系统 前置插件
2. 将 XiuXianEconomy.dll 放入 TShock/ServerPlugins 文件夹
3. 重启TShock服务器
4. 插件将自动生成配置文件和数据文件

# 命令列表

# 玩家命令

| 命令 | 权限 | 描述 |
/星晶余额 economy.player 查看当前星晶余额和财富等级
/每日奖励 economy.player 领取每日星晶奖励
/星晶商店 economy.player 浏览商店商品
/购买 <编号> [数量] economy.player 购买商店商品
/拍卖行 economy.player 查看当前拍卖物品
/上架拍卖 <价格> <品质> economy.player 上架手持物品到拍卖行
/购买拍卖 <编号> economy.player 购买拍卖物品
/查看ui刷新频率 economy.player 查看当前UI刷新频率

# 管理员命令

| 命令 | 权限 | 描述 |
/添加星晶 <玩家> <品质> <数量> economy.admin 为指定玩家添加星晶
/重读经济 economy.admin 重新加载经济配置和数据
/开关经济系统 economy.admin 启用或禁用经济系统
/设置ui刷新频率 <毫秒> economy.admin 设置UI自动刷新频率

配置文件说明

配置文件位于: TShock/save/XiuXianEconomy.json

```json
{
  "商店物品": [
    {
      "物品ID": 1,
      "库存": -1,
      "价格品质": 1,
      "价格数量": 10,
      "购买限制": -1
    }
  ],
  "低等掉落概率": 0.3,
  "中等掉落概率": 0.15,
  "高等掉落概率": 0.05,
  "极品掉落概率": 0.01,
  "每日奖励低等": 10,
  "每日奖励中等": 5,
  "每日奖励高等": 2,
  "每日奖励极品": 1,
  "顶部ui偏移X": -13,
  "顶部ui偏移Y": 12,
  "聊天ui偏移X": 2,
  "聊天ui偏移Y": 1,
  "经济系统启用": true,
  "自动给予初始星晶": true,
  "初始星晶数量": 100,
  "ui刷新频率毫秒": 10000
}
```

# 配置项说明

· 商店物品: 配置商店销售的商品
  · 物品ID: Terraria物品ID
  · 库存: -1表示无限，正数表示有限库存
  · 价格品质: 1=低等, 2=中等, 3=高等, 4=极品
  · 购买限制: -1表示无限制，正数表示每人限购数量
· 掉落概率: 怪物掉落不同品质星晶的概率
· 每日奖励: 玩家每天可领取的星晶数量
· UI偏移: 调整UI显示位置
· 经济系统启用: 总开关，可随时开启/关闭经济系统
· 初始星晶: 新玩家是否自动获得初始星晶

# 数据文件

· 经济数据: TShock/save/XiuXianEconomyData.json
· 拍卖数据: TShock/save/XiuXianAuction.json

# 注意: 请定期备份这些数据文件！

# 星晶兑换比例

品质 兑换低等星晶比例
低等星晶 1:1
中等星晶 1:100
高等星晶 1:10,000
极品星晶 1:1,000,000

# 财富等级系统

根据玩家总资产（换算为低等星晶）显示财富等级：

等级 要求 颜色
富可敌国 1,000,000 金色
家财万贯 100,000 紫色
小有资产 10,000 蓝色
温饱有余 1,000 绿色
一贫如洗 ≤ 1,000 灰色

# 常见问题

Q: 插件无法加载，提示缺少前置插件

A: 请确保已正确安装 修仙星宿系统 插件，并重启服务器。

Q: 玩家无法看到经济UI

A: 检查经济系统是否启用，使用 /开关经济系统 命令开启。

Q: 商店商品不显示

A: 检查配置文件中的物品ID是否正确，可使用TShock的 /item 命令查询物品ID。

Q: 拍卖物品过期未自动清理

A: 拍卖品过期后会在插件重载或服务器重启时自动清理。

Q: 如何调整UI显示位置

A: 修改配置文件中的 顶部ui偏移X/Y 和 聊天ui偏移X/Y 参数。

# 更新日志

v1.0.0

· 初始版本发布
· 实现基础星晶货币系统
· 添加商店和拍卖行功能
· 实现UI显示系统

# 技术支持
# : 泷白

如有问题或建议，请提交Issue或联系开发者。

许可证

本项目采用 MIT 许可证。详见 LICENSE 文件。

---

享受你的修仙经济之旅！ 🎉